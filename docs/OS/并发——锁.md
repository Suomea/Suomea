通过对多线程的介绍，我们看到了并发编程一个最基本的问题：我们希望原址性的执行一系列指令，但是由于单处理器的中断（或者多个线程在多个处理器上执行），我们做不到。
接下来我们介绍锁（lock），直接解决这一问题。在程序代码中加锁，放在临界区周围，保证临界区能够像单条原子指令一样执行。

### Pthread 锁

### 如何实现锁

#### 硬件指令 test-and-set

#### 硬件指令 compare-and-swap

#### 硬件指令 fetch-and-add

### 如何解决过多的自旋

#### 线程让步

#### 休眠代替自旋